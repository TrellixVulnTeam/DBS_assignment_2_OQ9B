{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nam07\\\\Desktop\\\\WEB_SERVER\\\\DBS_assignment_2\\\\src\\\\components\\\\products\\\\content.js\";\nimport React, { Component } from \"react\";\nimport parseNumber from \"./parseNumber\";\nimport { priceTag } from \"./../../data/ProductData/priceTags\";\nimport { productType } from \"../../data/ProductData/productTypes\";\nimport { shops } from \"../../data/shopData/shopData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\n\nclass Provider extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      products: [],\n      category: \"\",\n      titleImg: \"\",\n      modalOpen: false,\n      filterBrandModal: false,\n      filterPriceModal: false,\n      productType: productType[0],\n      shops: shops\n    };\n\n    this.setProducts = data => {\n      let tempProducts = [];\n      data.forEach(item => {\n        const it = { ...item\n        };\n        tempProducts = [...tempProducts, it];\n      });\n      this.setState({\n        products: tempProducts\n      });\n    };\n\n    this.setProductType = data => {\n      this.setState({\n        productType: data\n      });\n    };\n\n    this.openModal = type => {\n      if (type === \"sort\") {\n        this.setState(() => {\n          return {\n            modalOpen: true\n          };\n        });\n      } else if (type === \"brand\") {\n        this.setState(() => {\n          return {\n            filterBrandModal: true\n          };\n        });\n      } else if (type === \"price\") {\n        this.setState(() => {\n          return {\n            filterPriceModal: true\n          };\n        });\n      }\n    };\n\n    this.closeModal = type => {\n      if (type === \"sort\") {\n        this.setState(() => {\n          return {\n            modalOpen: false\n          };\n        });\n      } else if (type === \"brand\") {\n        this.setState(() => {\n          return {\n            filterBrandModal: false\n          };\n        });\n      } else if (type === \"price\") {\n        this.setState(() => {\n          return {\n            filterPriceModal: false\n          };\n        });\n      }\n    };\n\n    this.sortProducts = type => {\n      let tempProducts = [];\n      this.state.products.forEach(item => {\n        const it = { ...item\n        };\n        tempProducts = [...tempProducts, it];\n      });\n\n      if (type === \"a-z\") {\n        tempProducts.sort((a, b) => a.title.localeCompare(b.title));\n      } else if (type === \"z-a\") {\n        tempProducts.sort((a, b) => b.title.localeCompare(a.title));\n      } else if (type === \"ascen\") {\n        tempProducts.sort((a, b) => parseNumber(a.price) - parseNumber(b.price));\n      } else if (type === \"descen\") {\n        tempProducts.sort((a, b) => parseNumber(b.price) - parseNumber(a.price));\n      }\n\n      this.setState({\n        products: tempProducts\n      });\n    };\n\n    this.filterByBrand = async (brand, data) => {\n      await this.setProducts(data);\n      console.log(brand);\n      const tempProducts = this.state.products.filter(item => {\n        return !item.brand.localeCompare(brand);\n      });\n      this.setState({\n        products: tempProducts\n      });\n    };\n\n    this.filterByPrice = async (priceIndex, data) => {\n      await this.setProducts(data);\n      const tempProducts = this.state.products.filter(item => {\n        console.log(item.price >= priceTag[priceIndex].value[0]);\n        return parseNumber(item.price) >= parseNumber(priceTag[priceIndex].value[0]) && parseNumber(item.price) < parseNumber(priceTag[priceIndex].value[1]);\n      });\n      this.setState({\n        products: tempProducts\n      });\n    };\n\n    this.setTitle = (title, img) => {\n      this.setState({\n        category: title,\n        titleImg: img\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Context.Provider, {\n      value: { ...this.state,\n        setProducts: this.setProducts,\n        setTitle: this.setTitle,\n        sortProducts: this.sortProducts,\n        openModal: this.openModal,\n        closeModal: this.closeModal,\n        filterByBrand: this.filterByBrand,\n        setProductType: this.setProductType,\n        filterByPrice: this.filterByPrice\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst Consumer = Context.Consumer;\nexport { Provider, Consumer };","map":{"version":3,"sources":["C:/Users/nam07/Desktop/WEB_SERVER/DBS_assignment_2/src/components/products/content.js"],"names":["React","Component","parseNumber","priceTag","productType","shops","Context","createContext","Provider","state","products","category","titleImg","modalOpen","filterBrandModal","filterPriceModal","setProducts","data","tempProducts","forEach","item","it","setState","setProductType","openModal","type","closeModal","sortProducts","sort","a","b","title","localeCompare","price","filterByBrand","brand","console","log","filter","filterByPrice","priceIndex","value","setTitle","img","render","props","children","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport parseNumber from \"./parseNumber\";\r\nimport { priceTag } from \"./../../data/ProductData/priceTags\"\r\nimport { productType } from \"../../data/ProductData/productTypes\";\r\nimport { shops } from \"../../data/shopData/shopData\"\r\nconst Context = React.createContext();\r\n\r\nclass Provider extends Component {\r\n  state = {\r\n    products: [],\r\n    category: \"\",\r\n    titleImg: \"\",\r\n    modalOpen: false,\r\n    filterBrandModal: false,\r\n    filterPriceModal: false,\r\n    productType: productType[0],\r\n    shops: shops\r\n  };\r\n\r\n  setProducts = (data) => {\r\n    let tempProducts = [];\r\n    data.forEach(item => {\r\n      const it = { ...item };\r\n      tempProducts = [...tempProducts, it];\r\n    });\r\n    this.setState({\r\n      products: tempProducts\r\n    })\r\n  }\r\n\r\n  setProductType = (data) => {\r\n    this.setState({\r\n      productType: data\r\n    })\r\n  }\r\n\r\n  openModal = (type) => {\r\n    if (type === \"sort\") {\r\n      this.setState(() => {\r\n        return { modalOpen: true };\r\n      })\r\n    }\r\n    else if (type === \"brand\") {\r\n      this.setState(() => {\r\n        return { filterBrandModal: true };\r\n      })\r\n    } else if (type === \"price\") {\r\n      this.setState(() => {\r\n        return { filterPriceModal: true };\r\n      })\r\n    }\r\n  }\r\n\r\n  closeModal = (type) => {\r\n    if (type === \"sort\") {\r\n      this.setState(() => {\r\n        return { modalOpen: false };\r\n      })\r\n    }\r\n    else if (type === \"brand\") {\r\n      this.setState(() => {\r\n        return { filterBrandModal: false };\r\n      })\r\n    } else if (type === \"price\") {\r\n      this.setState(() => {\r\n        return { filterPriceModal: false };\r\n      })\r\n    }\r\n  }\r\n\r\n  sortProducts = (type) => {\r\n    let tempProducts = [];\r\n\r\n    this.state.products.forEach(item => {\r\n      const it = { ...item };\r\n      tempProducts = [...tempProducts, it];\r\n    });\r\n    if (type === \"a-z\") {\r\n      tempProducts.sort((a, b) => a.title.localeCompare(b.title));\r\n    } else if (type === \"z-a\") {\r\n      tempProducts.sort((a, b) => b.title.localeCompare(a.title));\r\n    } else if (type === \"ascen\") {\r\n      tempProducts.sort((a, b) => (parseNumber(a.price) - parseNumber(b.price)));\r\n    } else if (type === \"descen\") {\r\n      tempProducts.sort((a, b) => (parseNumber(b.price) - parseNumber(a.price)));\r\n    }\r\n\r\n    this.setState({\r\n      products: tempProducts\r\n    })\r\n  }\r\n\r\n  filterByBrand = async (brand, data) => {\r\n    await this.setProducts(data);\r\n    console.log(brand);\r\n    const tempProducts = this.state.products.filter((item) => {\r\n      return !item.brand.localeCompare(brand);\r\n    });\r\n\r\n    this.setState({\r\n      products: tempProducts\r\n    })\r\n  }\r\n\r\n  filterByPrice = async (priceIndex, data) => {\r\n    await this.setProducts(data);\r\n\r\n    const tempProducts = this.state.products.filter((item) => {\r\n      console.log(item.price >= priceTag[priceIndex].value[0]);\r\n      return (parseNumber(item.price) >= parseNumber(priceTag[priceIndex].value[0]) && parseNumber(item.price) < parseNumber(priceTag[priceIndex].value[1]));\r\n    });\r\n\r\n    this.setState({\r\n      products: tempProducts\r\n    })\r\n  }\r\n\r\n  setTitle = (title, img) => {\r\n    this.setState({\r\n      category: title,\r\n      titleImg: img\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Context.Provider\r\n        value={{\r\n          ...this.state,\r\n          setProducts: this.setProducts,\r\n          setTitle: this.setTitle,\r\n          sortProducts: this.sortProducts,\r\n          openModal: this.openModal,\r\n          closeModal: this.closeModal,\r\n          filterByBrand: this.filterByBrand,\r\n          setProductType: this.setProductType,\r\n          filterByPrice: this.filterByPrice,\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </Context.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nconst Consumer = Context.Consumer;\r\n\r\nexport { Provider, Consumer };\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nam07\\\\Desktop\\\\WEB_SERVER\\\\DBS_assignment_2\\\\src\\\\pages\\\\cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useEffect } from \"react\";\nimport \"../components/CartItem/CartPage.css\";\nimport { useState } from \"react\";\nimport CartItem from \"../components/CartItem/CartItem\";\nimport Title from \"../components/title/title\";\nimport { Link } from \"react-router-dom\";\nimport CartItemList from \"../components/CartItem/CartItemList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class ItemInCart extends React.Component {\n  //Lưu dữ liệu từng item\n  constructor(props) {\n    super(props);\n    this.props.amount = 1;\n  }\n\n}\nexport function AddToCart(props) {\n  // Dùng ngoài component\n  var temp = localStorage.getItem('cart');\n  var temp2 = JSON.parse(temp);\n  var Repeated = 0;\n\n  for (let i = 0; i < temp2.length; i++) {\n    if (temp2[i].props.id == props.id) {\n      temp2[i].props.amount++;\n      localStorage.setItem('cart', JSON.stringify(temp2));\n      Repeated = 1;\n    }\n  }\n\n  if (Repeated == 0) {\n    temp2 = [...temp2, new ItemInCart({\n      id: props.id,\n      img: props.img,\n      name: props.name,\n      price: props.price\n    })];\n    localStorage.setItem('cart', JSON.stringify(temp2));\n  }\n}\n_c = AddToCart;\n\nconst Cart = () => {\n  _s();\n\n  const [ItemList, setItemList] = useState([]);\n  const [Sum, SetSum] = useState(TinhTong());\n  useEffect(() => {\n    const StoredItemList = localStorage.getItem('cart');\n\n    if (StoredItemList) {\n      setItemList(JSON.parse(StoredItemList));\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(ItemList));\n    update();\n  }, [ItemList]);\n\n  function update() {\n    SetSum(TinhTong());\n    localStorage.setItem('cart', JSON.stringify(ItemList));\n  }\n\n  function TinhTong() {\n    //Tổng price trong giỏ hàng\n    var sum = 0;\n\n    for (let i = 0; i < ItemList.length; i++) {\n      sum += ItemList[i].props.price * ItemList[i].props.amount;\n    }\n\n    return sum;\n  }\n\n  function XoaHet() {\n    setItemList([]);\n    localStorage.setItem('cart', JSON.stringify(ItemList));\n    SetSum(0);\n  }\n\n  function Xoa(id) {\n    var temp = [];\n\n    for (let i = 0; i < ItemList.length; i++) {\n      if (ItemList[i].props.id != id) {\n        temp = [...temp, ItemList[i]];\n      }\n    }\n\n    setItemList(temp);\n    localStorage.setItem('cart', JSON.stringify(ItemList));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      \"min-height\": \"70vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container cartpage\",\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        title: \"Gi\\u1ECF h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"CartItem\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col1\",\n            children: \"\\u1EA2nh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col1\",\n            children: \"S\\u1EA3n ph\\u1EA9m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col1\",\n            children: \"Gi\\xE1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col1\",\n            children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col1\",\n            children: \"T\\u1ED5ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CartItemList, {\n          ItemList: ItemList,\n          update: update,\n          Xoa: Xoa\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"group-1\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/home\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"button-1\",\n                type: \"button\",\n                value: \"Ti\\u1EBFp t\\u1EE5c mua h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"button-1\",\n              type: \"button\",\n              value: \"X\\xF3a h\\u1EBFt\",\n              onClick: XoaHet\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"button-2\",\n              type: \"button\",\n              value: \"C\\u1EADp nh\\u1EADt gi\\u1ECF h\\xE0ng\",\n              onClick: update\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"group-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Nh\\u1EADp m\\xE3 khuy\\u1EBFn m\\xE3i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"apply\",\n              type: \"button\",\n              value: \"\\xC1p d\\u1EE5ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"CartFooter\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"text\",\n            children: \"C\\u1ED9ng gi\\u1ECF h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col1\",\n              children: \" T\\u1ED5ng \\u0111\\u01A1n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col2\",\n              children: [Sum, \"\\u0111\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/payment\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"button\",\n              value: \"\\u0110\\u1EB7t h\\xE0ng ngay\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Cart, \"bqFHu1JcknGukNHMUezVKJkgyEA=\");\n\n_c2 = Cart;\nexport default Cart;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddToCart\");\n$RefreshReg$(_c2, \"Cart\");","map":{"version":3,"sources":["C:/Users/nam07/Desktop/WEB_SERVER/DBS_assignment_2/src/pages/cart.js"],"names":["React","Component","useEffect","useState","CartItem","Title","Link","CartItemList","ItemInCart","constructor","props","amount","AddToCart","temp","localStorage","getItem","temp2","JSON","parse","Repeated","i","length","id","setItem","stringify","img","name","price","Cart","ItemList","setItemList","Sum","SetSum","TinhTong","StoredItemList","update","sum","XoaHet","Xoa"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAO,qCAAP;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;;AAEA,OAAO,MAAMC,UAAN,SAAyBR,KAAK,CAACC,SAA/B,CAAwC;AAAE;AAC/CQ,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKA,KAAL,CAAWC,MAAX,GAAoB,CAApB;AACD;;AAJ4C;AAO/C,OAAO,SAASC,SAAT,CAAmBF,KAAnB,EAAyB;AAAE;AAChC,MAAIG,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;AACA,MAAIC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAZ;AACA,MAAIM,QAAQ,GAAG,CAAf;;AACA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,KAAK,CAACK,MAAzB,EAAiCD,CAAC,EAAlC,EACA;AACE,QAAGJ,KAAK,CAACI,CAAD,CAAL,CAASV,KAAT,CAAeY,EAAf,IAAqBZ,KAAK,CAACY,EAA9B,EACA;AACEN,MAAAA,KAAK,CAACI,CAAD,CAAL,CAASV,KAAT,CAAeC,MAAf;AACAG,MAAAA,YAAY,CAACS,OAAb,CAAqB,MAArB,EAA4BN,IAAI,CAACO,SAAL,CAAeR,KAAf,CAA5B;AACAG,MAAAA,QAAQ,GAAG,CAAX;AACD;AACF;;AACD,MAAIA,QAAQ,IAAI,CAAhB,EAAmB;AACnBH,IAAAA,KAAK,GAAG,CAAC,GAAGA,KAAJ,EAAW,IAAIR,UAAJ,CAAe;AAACc,MAAAA,EAAE,EAAEZ,KAAK,CAACY,EAAX;AAAeG,MAAAA,GAAG,EAAEf,KAAK,CAACe,GAA1B;AAA+BC,MAAAA,IAAI,EAAEhB,KAAK,CAACgB,IAA3C;AAAgDC,MAAAA,KAAK,EAAEjB,KAAK,CAACiB;AAA7D,KAAf,CAAX,CAAR;AACAb,IAAAA,YAAY,CAACS,OAAb,CAAqB,MAArB,EAA4BN,IAAI,CAACO,SAAL,CAAeR,KAAf,CAA5B;AACC;AACF;KAjBeJ,S;;AAmBhB,MAAMgB,IAAI,GAAG,MAAM;AAAA;;AACjB,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAyB3B,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAAC4B,GAAD,EAAKC,MAAL,IAAe7B,QAAQ,CAAC8B,QAAQ,EAAT,CAA7B;AACA/B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgC,cAAc,GAAGpB,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAvB;;AACA,QAAGmB,cAAH,EAAmB;AACjBJ,MAAAA,WAAW,CAACb,IAAI,CAACC,KAAL,CAAWgB,cAAX,CAAD,CAAX;AACD;AACF,GALQ,EAKN,EALM,CAAT;AAMAhC,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,YAAY,CAACS,OAAb,CAAqB,MAArB,EAA4BN,IAAI,CAACO,SAAL,CAAeK,QAAf,CAA5B;AACAM,IAAAA,MAAM;AACP,GAHM,EAGJ,CAACN,QAAD,CAHI,CAAT;;AAIA,WAASM,MAAT,GAAkB;AAChBH,IAAAA,MAAM,CAACC,QAAQ,EAAT,CAAN;AACAnB,IAAAA,YAAY,CAACS,OAAb,CAAqB,MAArB,EAA4BN,IAAI,CAACO,SAAL,CAAeK,QAAf,CAA5B;AACD;;AACD,WAASI,QAAT,GAAoB;AAAE;AACpB,QAAIG,GAAG,GAAG,CAAV;;AACA,SAAI,IAAIhB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGS,QAAQ,CAACR,MAA5B,EAAoCD,CAAC,EAArC,EACA;AACEgB,MAAAA,GAAG,IAAIP,QAAQ,CAACT,CAAD,CAAR,CAAYV,KAAZ,CAAkBiB,KAAlB,GAAwBE,QAAQ,CAACT,CAAD,CAAR,CAAYV,KAAZ,CAAkBC,MAAjD;AACD;;AACD,WAAOyB,GAAP;AACD;;AACD,WAASC,MAAT,GAAkB;AAChBP,IAAAA,WAAW,CAAC,EAAD,CAAX;AACAhB,IAAAA,YAAY,CAACS,OAAb,CAAqB,MAArB,EAA4BN,IAAI,CAACO,SAAL,CAAeK,QAAf,CAA5B;AACAG,IAAAA,MAAM,CAAC,CAAD,CAAN;AACD;;AACD,WAASM,GAAT,CAAahB,EAAb,EAAiB;AACf,QAAIT,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGS,QAAQ,CAACR,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,UAAGS,QAAQ,CAACT,CAAD,CAAR,CAAYV,KAAZ,CAAkBY,EAAlB,IAAwBA,EAA3B,EAA8B;AAC5BT,QAAAA,IAAI,GAAG,CAAC,GAAGA,IAAJ,EAAUgB,QAAQ,CAACT,CAAD,CAAlB,CAAP;AACD;AACF;;AACDU,IAAAA,WAAW,CAACjB,IAAD,CAAX;AACAC,IAAAA,YAAY,CAACS,OAAb,CAAqB,MAArB,EAA4BN,IAAI,CAACO,SAAL,CAAeK,QAAf,CAA5B;AACD;;AACD,sBACE;AAAK,IAAA,KAAK,EAAE;AAAE,oBAAc;AAAhB,KAAZ;AAAA,2BACE;AAAK,MAAA,KAAK,EAAC,oBAAX;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,KAAK,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA,gCACE;AAAK,UAAA,KAAK,EAAC,MAAX;AAAA,kCACE;AAAK,YAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAK,YAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAK,YAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE;AAAK,YAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE,QAAC,YAAD;AAAc,UAAA,QAAQ,EAAEA,QAAxB;AAAkC,UAAA,MAAM,EAAEM,MAA1C;AAAkD,UAAA,GAAG,EAAEG;AAAvD;AAAA;AAAA;AAAA;AAAA,gBARF,eASE;AAAK,UAAA,KAAK,EAAC,MAAX;AAAA,kCACE;AAAK,YAAA,KAAK,EAAC,SAAX;AAAA,oCACE,QAAC,IAAD;AAAM,cAAA,EAAE,EAAC,OAAT;AAAA,qCACA;AAAO,gBAAA,EAAE,EAAC,UAAV;AAAqB,gBAAA,IAAI,EAAC,QAA1B;AAAmC,gBAAA,KAAK,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAO,cAAA,EAAE,EAAC,UAAV;AAAqB,cAAA,IAAI,EAAC,QAA1B;AAAmC,cAAA,KAAK,EAAC,iBAAzC;AAAmD,cAAA,OAAO,EAAED;AAA5D;AAAA;AAAA;AAAA;AAAA,oBAJF,eAKE;AAAO,cAAA,EAAE,EAAC,UAAV;AAAqB,cAAA,IAAI,EAAC,QAA1B;AAAmC,cAAA,KAAK,EAAC,qCAAzC;AAA6D,cAAA,OAAO,EAAEF;AAAtE;AAAA;AAAA;AAAA;AAAA,oBALF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE;AAAK,YAAA,KAAK,EAAC,SAAX;AAAA,oCACE;AAAO,cAAA,WAAW,EAAC;AAAnB;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAO,cAAA,EAAE,EAAC,OAAV;AAAkB,cAAA,IAAI,EAAC,QAAvB;AAAgC,cAAA,KAAK,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAyBE;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA,+BACE;AAAK,UAAA,KAAK,EAAC,SAAX;AAAA,kCACE;AAAK,YAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,KAAK,EAAC,MAAX;AAAA,oCACE;AAAK,cAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,cAAA,KAAK,EAAC,MAAX;AAAA,yBAAmBJ,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAME,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,UAAT;AAAA,mCACE;AAAO,cAAA,IAAI,EAAC,QAAZ;AAAqB,cAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAzBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA0CD,CAlFD;;GAAMH,I;;MAAAA,I;AAoFN,eAAeA,IAAf","sourcesContent":["import React, {Component, useEffect} from \"react\";\r\nimport \"../components/CartItem/CartPage.css\";\r\nimport { useState } from \"react\";\r\nimport CartItem from \"../components/CartItem/CartItem\";\r\nimport Title from \"../components/title/title\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CartItemList from \"../components/CartItem/CartItemList\";\r\n\r\nexport class ItemInCart extends React.Component{ //Lưu dữ liệu từng item\r\n  constructor(props){\r\n    super(props);\r\n    this.props.amount = 1;\r\n  }\r\n}\r\n\r\nexport function AddToCart(props){ // Dùng ngoài component\r\n  var temp = localStorage.getItem('cart');\r\n  var temp2 = JSON.parse(temp);\r\n  var Repeated = 0;\r\n  for(let i = 0; i < temp2.length; i++)\r\n  {\r\n    if(temp2[i].props.id == props.id)\r\n    {\r\n      temp2[i].props.amount++;\r\n      localStorage.setItem('cart',JSON.stringify(temp2));\r\n      Repeated = 1;\r\n    }\r\n  }\r\n  if (Repeated == 0) {\r\n  temp2 = [...temp2, new ItemInCart({id: props.id, img: props.img, name: props.name,price: props.price})];\r\n  localStorage.setItem('cart',JSON.stringify(temp2));\r\n  }\r\n}\r\n\r\nconst Cart = () => {\r\n  const [ItemList,setItemList] = useState([]);\r\n  const [Sum,SetSum] = useState(TinhTong());\r\n  useEffect(() => {\r\n    const StoredItemList = localStorage.getItem('cart');\r\n    if(StoredItemList) {\r\n      setItemList(JSON.parse(StoredItemList));\r\n    }\r\n  }, [] );\r\n  useEffect(() => {\r\n      localStorage.setItem('cart',JSON.stringify(ItemList));\r\n      update();\r\n    }, [ItemList] );\r\n  function update() {\r\n    SetSum(TinhTong());\r\n    localStorage.setItem('cart',JSON.stringify(ItemList));\r\n  }\r\n  function TinhTong() { //Tổng price trong giỏ hàng\r\n    var sum = 0;\r\n    for(let i = 0; i < ItemList.length; i++)\r\n    {\r\n      sum += ItemList[i].props.price*ItemList[i].props.amount;\r\n    }\r\n    return sum;\r\n  }\r\n  function XoaHet() {\r\n    setItemList([]);\r\n    localStorage.setItem('cart',JSON.stringify(ItemList));\r\n    SetSum(0);\r\n  }\r\n  function Xoa(id) {\r\n    var temp = [];\r\n    for (let i = 0; i < ItemList.length; i++) {\r\n      if(ItemList[i].props.id != id){\r\n        temp = [...temp, ItemList[i]];\r\n      }\r\n    }\r\n    setItemList(temp);\r\n    localStorage.setItem('cart',JSON.stringify(ItemList));\r\n  }\r\n  return (\r\n    <div style={{ \"min-height\": \"70vh\" }}>\r\n      <div class=\"container cartpage\">\r\n        <Title title=\"Giỏ hàng\" />\r\n        <div class=\"CartItem\">\r\n          <div class=\"row1\">\r\n            <div class=\"col1\">Ảnh</div>\r\n            <div class=\"col1\">Sản phẩm</div>\r\n            <div class=\"col1\">Giá</div>\r\n            <div class=\"col1\">Số lượng</div>\r\n            <div class=\"col1\">Tổng</div>\r\n          </div>\r\n          <CartItemList ItemList={ItemList} update={update} Xoa={Xoa} />\r\n          <div class=\"row3\">\r\n            <div class=\"group-1\">\r\n              <Link to=\"/home\">\r\n              <input id=\"button-1\" type=\"button\" value=\"Tiếp tục mua hàng\" />\r\n              </Link>\r\n              <input id=\"button-1\" type=\"button\" value=\"Xóa hết\" onClick={XoaHet}/>\r\n              <input id=\"button-2\" type=\"button\" value=\"Cập nhật giỏ hàng\" onClick={update}/>\r\n            </div>\r\n            <div class=\"group-2\">\r\n              <input placeholder=\"Nhập mã khuyến mãi\" />\r\n              <input id=\"apply\" type=\"button\" value=\"Áp dụng\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"CartFooter\">\r\n          <div class=\"content\">\r\n            <div id=\"text\">Cộng giỏ hàng</div>\r\n            <div class=\"row1\">\r\n              <div class=\"col1\"> Tổng đơn:</div>\r\n              <div class=\"col2\">{Sum}đ</div>\r\n            </div>\r\n            <Link to=\"/payment\">\r\n              <input type=\"button\" value=\"Đặt hàng ngay\" />\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}